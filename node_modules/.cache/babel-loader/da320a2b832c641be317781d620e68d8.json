{"ast":null,"code":"var _jsxFileName = \"D:\\\\Hoc tap\\\\ReactJS\\\\Maltimart-ecommerce\\\\src\\\\pages\\\\Checkout.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Container, Row, Col, Form, FormGroup } from \"reactstrap\";\nimport Helmet from \"../components/Helmet.js/Helmet\";\nimport CommonSection from \"../components/UI/CommonSection\";\nimport { apiCallerWithToken } from \"../config/configAxios\";\nimport { authSelector } from \"../redux/slices/authSlice\";\nimport { cartActions } from \"../redux/slices/cartSlice\";\nimport \"../styles/checkout.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Checkout = () => {\n  _s();\n\n  const [state, setState] = useState({\n    name: \"\",\n    phone: \"\",\n    address: \"\"\n  });\n  const {\n    accessToken\n  } = useSelector(authSelector);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const handleChange = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    try {\n      const res = await apiCallerWithToken(accessToken, dispatch).patch(\"order/account/payment\", { ...state,\n        paymentMethod: \"COD\"\n      });\n      const {\n        message,\n        data\n      } = res.data;\n\n      if (message === \"Success\") {\n        console.log(data);\n        dispatch(cartActions.setCart({\n          items: []\n        }));\n        toast.success(\"Thanh toán thành công\");\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Helmet, {\n    title: \"Checkout\",\n    children: [/*#__PURE__*/_jsxDEV(CommonSection, {\n      title: \"Checkout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            lg: \"8\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"mb-4 fw-bold text-center fs-4\",\n              children: \"Billing Information\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form, {\n              className: \"billing-form\",\n              onSubmit: handleSubmit,\n              children: [/*#__PURE__*/_jsxDEV(FormGroup, {\n                className: \"form__group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Enter your name\",\n                  className: \"w-100\",\n                  name: \"name\",\n                  value: state.name,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                className: \"form__group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"numer\",\n                  placeholder: \"Phone number\",\n                  className: \"w-100\",\n                  name: \"phone\",\n                  value: state.phone,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                className: \"form__group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Address\",\n                  className: \"w-100\",\n                  name: \"address\",\n                  value: state.address,\n                  onChange: handleChange\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 80,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            lg: \"4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"checkout__cart\",\n              children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\"Total Qty: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 30\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\"Subtotal: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"$0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                children: [\"Free Shipping: \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 34\n                }, this), \"free shipping\", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 32\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: [\"Total Cost: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"$0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 31\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"buy__btn auth__btn w-100\",\n                children: \"Place an order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Checkout, \"IEhRQ6OFVQLEI3tufCRkiS+FBvE=\", false, function () {\n  return [useSelector, useDispatch, useNavigate];\n});\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"names":["React","useState","useDispatch","useSelector","useNavigate","toast","Container","Row","Col","Form","FormGroup","Helmet","CommonSection","apiCallerWithToken","authSelector","cartActions","Checkout","state","setState","name","phone","address","accessToken","dispatch","navigate","handleChange","e","target","value","handleSubmit","preventDefault","res","patch","paymentMethod","message","data","console","log","setCart","items","success","error"],"sources":["D:/Hoc tap/ReactJS/Maltimart-ecommerce/src/pages/Checkout.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Container, Row, Col, Form, FormGroup } from \"reactstrap\";\r\nimport Helmet from \"../components/Helmet.js/Helmet\";\r\nimport CommonSection from \"../components/UI/CommonSection\";\r\nimport { apiCallerWithToken } from \"../config/configAxios\";\r\nimport { authSelector } from \"../redux/slices/authSlice\";\r\nimport { cartActions } from \"../redux/slices/cartSlice\";\r\nimport \"../styles/checkout.scss\";\r\n\r\nconst Checkout = () => {\r\n  const [state, setState] = useState({ name: \"\", phone: \"\", address: \"\" });\r\n  const { accessToken } = useSelector(authSelector);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const handleChange = (e) => {\r\n    setState({ ...state, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await apiCallerWithToken(accessToken, dispatch).patch(\r\n        \"order/account/payment\",\r\n        {\r\n          ...state,\r\n          paymentMethod: \"COD\",\r\n        }\r\n      );\r\n      const { message, data } = res.data;\r\n      if (message === \"Success\") {\r\n        console.log(data);\r\n        dispatch(cartActions.setCart({ items: [] }));\r\n        toast.success(\"Thanh toán thành công\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Helmet title=\"Checkout\">\r\n      <CommonSection title=\"Checkout\" />\r\n\r\n      <section>\r\n        <Container>\r\n          <Row>\r\n            <Col lg=\"8\">\r\n              <h6 className=\"mb-4 fw-bold text-center fs-4\">\r\n                Billing Information\r\n              </h6>\r\n              <Form className=\"billing-form\" onSubmit={handleSubmit}>\r\n                <FormGroup className=\"form__group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Enter your name\"\r\n                    className=\"w-100\"\r\n                    name=\"name\"\r\n                    value={state.name}\r\n                    onChange={handleChange}\r\n                  />\r\n                </FormGroup>\r\n\r\n                <FormGroup className=\"form__group\">\r\n                  <input\r\n                    type=\"numer\"\r\n                    placeholder=\"Phone number\"\r\n                    className=\"w-100\"\r\n                    name=\"phone\"\r\n                    value={state.phone}\r\n                    onChange={handleChange}\r\n                  />\r\n                </FormGroup>\r\n\r\n                <FormGroup className=\"form__group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Address\"\r\n                    className=\"w-100\"\r\n                    name=\"address\"\r\n                    value={state.address}\r\n                    onChange={handleChange}\r\n                  />\r\n                </FormGroup>\r\n              </Form>\r\n            </Col>\r\n            <Col lg=\"4\">\r\n              <div className=\"checkout__cart\">\r\n                <h6>\r\n                  Total Qty: <span>0</span>\r\n                </h6>\r\n                <h6>\r\n                  Subtotal: <span>$0</span>\r\n                </h6>\r\n                <h6>\r\n                  Free Shipping: <br />\r\n                  free shipping<span>0</span>\r\n                </h6>\r\n                <h4>\r\n                  Total Cost: <span>$0</span>\r\n                </h4>\r\n                <button className=\"buy__btn auth__btn w-100\">\r\n                  Place an order\r\n                </button>\r\n              </div>\r\n            </Col>\r\n          </Row>\r\n        </Container>\r\n      </section>\r\n    </Helmet>\r\n  );\r\n};\r\n\r\nexport default Checkout;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}